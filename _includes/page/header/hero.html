
<!-- Header/Image -->
{% include system/helpers.html %}

{% assign config       = page.hero-banner.config %}
{% assign text-content = page.hero-banner.content %}
{% assign theme        = "dark" %}
{% assign link         = config.link %}
{% assign row-gutter   = "30" %}
{% assign text-align   = "center" %}
{% assign height       = "300" %}
{% assign background   = color.black %}


{% if config.background %}
  {% assign background = config.background %}
{% endif %}

{% if config.theme %}
  {% assign theme = config.theme %}
{% endif %}

{% if page.hero-banner.image.height %}
  {% assign height = page.hero-banner.image.height %}
{% endif %}

{% if config.align %}
  {% assign text-align = config.align %}
{% endif %}

{% if config.row-gutter %}
  {% assign row-gutter = config.row-gutter %}
{% endif %}


<table {{table.outer}}>
  <tr>
    <!-- background image has to be the same height of the email with fallback typefaces for consistent rending in outlook -->
    <td bgcolor="{{background}}" background="img/{{page.hero-banner.image.file}}" style="background-position: top center; background-repeat: no-repeat; background-size: cover;">
      <!--[if (gt mso 9)&(lt mso 16)]>
      <v:rect xmlns:v="urn:schemas-microsoft-com:vml" fill="true" stroke="false" style="mso-width-percent:1000;">
        <v:fill type="frame" src="img/{{page.hero-banner.image.file}}" color="{{color.black}}" />
        <v:textbox style="mso-fit-shape-to-text:true" inset="0,0,0,0">
      <![endif]-->

      <!-- center table - alignment is lost when the above vml hack is applied, need an extra table to center the content -->
      <table {{table.outer}}>
        <tr>
          <td align="center">
            <table {{table.fluid}}> <!-- extra table to apply height as responsive class removes it on table.inner -->
              <!-- Logo -->
              <tr>
                <td align="center" valign="top" height="120" background="img/se20..hero-fade-top.png" style="background-position: top center; background-repeat: no-repeat; background-size: cover;">
                  <!--[if (gt mso 9)&(lt mso 16)]>
                  <v:rect xmlns:v="urn:schemas-microsoft-com:vml" fill="true" stroke="false" style="mso-width-percent:1000;">
                    <v:fill type="frame" src="img/se20..hero-fade-top.png" color="{{color.black}}" />
                    <v:textbox style="mso-fit-shape-to-text:true" inset="0,0,0,0">
                  <![endif]-->
                  <table {{table.default}}>
                    <tr>
                      <td align="center" style="{{spacing.vpad.md}} {{spacing.hpad.sm}}" class="header-padding">
                        {% if site.partner %}
                          {% include element/logo/combined.html %}
                        {% else %}
                          {% include element/logo/secret-escapes.html size="lg" %}
                        {% endif %}
                      </td>
                    </tr>
                  </table>
                  <!--[if (gt mso 9)&(lt mso 16)]>
                    </v:textbox>
                  </v:rect>
                  <![endif]-->
                </td>
              </tr>
              <!-- Link -->
              <tr>
                <td class="hero__link" align="center" valign="bottom" height="{{height | minus: 180}}">
                  <a href="{{link}}" style="display: block; height: 100%; width: 100%;"></a>
                </td>
              </tr>
              <!-- Bottom fade -->
              <tr>
                <td align="center" valign="bottom" height="60">
                  <img src="img/se20..hero-fade-bottom.png" class="img-max" width="100%" style="width: 100%;">
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>

      <!--[if (gt mso 9)&(lt mso 16)]>
        </v:textbox>
      </v:rect>
      <![endif]-->

    </td>
  </tr>
</table>



<!-- CONTENT -->
<table {{table.outer}}>
  <tr>
    <td align="center" bgcolor="{{background}}" style="{{spacing.gutter}}">
      <table {{table.inner}}>
        <tr>
          <td style="{{spacing.hpad.md}} padding-bottom: {{spacing.lg}};">
            {% include component/_content.html content=text-content align=text-align theme=theme %}
          </td>
        </tr>
      </table>

    </td>
  </tr>
</table>
<table {{table.outer}}>
  <tr>
    <td bgcolor="{{color.background.inner}}" style="height: {{row-gutter}}px;"></td>
  </tr>
</table>


