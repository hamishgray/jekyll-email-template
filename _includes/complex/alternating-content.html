

{% assign selected = page.objects[include.object] %}

{% if include.bgcolor %}
  {% assign bgcolor = include.bgcolor %}
{% else %}
  {% assign bgcolor = "f2f2f2" %}
{% endif %}

{% if include.theme == "dark" %}
  <!-- theme card for dark background -->
  {% assign color-text-title = "ffffff" %}
  {% assign color-text-paragraph = "ffffff" %}
  {% assign color-se-grey = "444444" %}
{% else %}
  <!-- set colours to default -->
  {% assign color-se-grey = site.data.style.color-se-grey %}
  {% assign color-text-title = site.data.style.color-text-title %}
  {% assign color-text-paragraph = site.data.style.color-text-paragraph %}
{% endif %}



{% for object in selected %}

  {% if object.title %}
  <table border="0" cellpadding="0" cellspacing="0" width="100%">
    <tr>
      <td bgcolor="#{{ bgcolor }}" {% if include.bgcolor %}style="padding: 30px 0;"{% else %}style="padding: 0 0 30px 0;"{% endif %} align="center">
        <table border="0" cellpadding="0" cellspacing="0" width="600" class="responsive-table">
          <tr>
            <td>

              <!-- START - bulletproof hr -->
              <table width="100%" border="0" cellspacing="0" cellpadding="0">
                <tr>
                  <td align="center">
                    <table align="center" width="100" border="0" cellspacing="0" cellpadding="0"  style="height:16px;">
                      <tr>
                        <td align="center"
                          style="background:none; height:1px; width:100px; margin-top:0; margin-bottom:0; margin-left:auto; margin-right:auto; padding:0; line-height:0; border-bottom: 1px solid #{{ color-se-grey }};">
                          <div style="width:100px;"></div>
                        </td>
                      </tr>
                      <tr>
                        <td align="center" style="background:none; height:15px; width:100px; margin:0; padding:0; line-height:0;"></td>
                      </tr>
                    </table>
                  </td>
                </tr>
              </table>
              <!-- END - bulletproof hr -->

              <table width="100%" border="0" cellspacing="0" cellpadding="0">
                <tr>
                  <td align="center" style="padding: 0 30px 0px; color: #{{ color-text-title }}; {{ site.data.style.text-h4 }}" class="padding-copy-header">
                    {{ object.title }}
                  </td>
                </tr>
              </table>

              {% if object.subtitle %}
                <table width="100%" border="0" cellspacing="0" cellpadding="0">
                  <tr>
                    <td align="center" style="padding: 5px 30px 0; color: #{{ color-text-title }}; {{ site.data.style.text-h5 }}" class="padding-copy-header">
                      {{ object.subtitle }}
                    </td>
                  </tr>
                </table>
              {% endif %}

              <!-- START - bulletproof hr -->
              <table width="100%" border="0" cellspacing="0" cellpadding="0">
                <tr>
                  <td align="center">
                    <table align="center" width="100" border="0" cellspacing="0" cellpadding="0"  style="height:16px;">
                      <tr>
                        <td align="center"
                          style="background:none; height:15px; width:100px; margin-top:0; margin-bottom:0; margin-left:auto; margin-right:auto; padding:0; line-height:0; border-bottom: 1px solid #{{ color-se-grey }};">
                          <div style="width:100px;"></div>
                        </td>
                      </tr>
                      <tr>
                        <td align="center" style="background:none; height:1px; width:100px; margin:0; padding:0; line-height:0;"></td>
                      </tr>
                    </table>
                  </td>
                </tr>
              </table>
              <!-- END - bulletproof hr -->


              {% if object.content %}
              <table width="100%" border="0" cellspacing="0" cellpadding="0">
                <tr>
                  <td align="center" style="padding: 15px 30px 10px; text-align: center; color: #{{ color-text-paragraph }}; {{ site.data.style.text-p }}">
                    {{ object.content }}
                  </td>
                </tr>
              </table>
              {% endif %}

              {% if object.cta %}
              <table width="100%" border="0" cellspacing="0" cellpadding="0">
                <tr>
                  <td align="center" width="300" style="padding: 15px 30px 10px;">
                    <a
                      href="{% if object.link %}{{ object.link }}{% else %}{{ page.campaign-link }}{% endif %}"
                      style="{{ site.data.style.button-small }}">
                      {% if object.cta-label %}{{ object.cta-label }}{% else %}{{ page.main-cta-label }}{% endif %}
                    </a>
                  </td>
                </tr>
              </table>
              {% endif %}

            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
  {% endif %}


  {% for object in object.content-rows %}
  {% assign loopindex = forloop.index | modulo: 2 %}

  <table bgcolor="#{{ bgcolor }}" border="0" cellpadding="0" cellspacing="0" width="100%">
    <tr>
      <td align="center" style="padding: 0 15px {% if forloop.last %}30px{% else %}0{% endif %};">
        <table bgcolor="{% if include.theme == 'dark' %}#{{ site.data.style.color-se-black }}{% else %}#ffffff{% endif %}"  border="0" cellpadding="0" cellspacing="0" width="600" class="responsive-table" style="{% if forloop.first %}border-top-left-radius: 4px;border-top-right-radius: 4px;{% elsif forloop.last %}border-bottom-left-radius: 4px;border-bottom-right-radius: 4px;{% endif %}">
          <tr>
            <td style="padding: 0;" class="mobile-wrapper">
              <!-- TWO COLUMNS -->
              <table align="center" cellspacing="0" cellpadding="0" border="0" width="600" class="responsive-table">
                <tr>
                  <td class="mobile-wrapper" valign="middle" style="vertical-align:middle;">
                    <!-- LEFT COLUMN -->
                    <table cellpadding="0" cellspacing="0" border="0" width="50%" class="responsive-table" style="height: 300px;" align="{% if forloop.first or loopindex == 1 %}left{% else %}right{% endif %}">
                      <tr>
                        <td style="padding: 0; vertical-align:middle;" valign="middle">
                          <table cellpadding="0" cellspacing="0" border="0" width="100%">
                            <tr>
                              <td align="center" valign="middle">
                                <a href="{% if object.link %}{{ object.link }}{% else %}{{ page.campaign-link }}{% endif %}">
                                  <img class="border-reset" src="{{ site.baseurl }}/img/content/{{ object.image }}" width="300" style="display: block; width: 100%; height:auto;
                                  {% if forloop.first %}border-top-left-radius: 4px;{% endif %}" alt="" border="0" class="img-max" />
                                </a>
                              </td>
                            </tr>
                          </table>
                        </td>
                      </tr>
                    </table>
                    <!-- RIGHT COLUMN -->
                    <table cellpadding="0" cellspacing="0" border="0" width="49.999999%" class="responsive-table" style="height: 300px; {% unless include.theme == 'dark' %}border: 1px solid #e0e0e0;{% endunless %}" align="{% if forloop.first or loopindex == 1 %}right{% else %}left{% endif %}">
                      <tr>
                        <td style="padding: 15px 20px; vertical-align:middle;" valign="middle">
                          <table cellpadding="0" cellspacing="0" border="0" width="100%">
                            <tr>
                              <td align="left" style="padding: 0 0 0 0; color: #{{ color-text-title }}; {{ site.data.style.text-h5 }}">
                                {{ object.title }}
                              </td>
                            </tr>
                            <tr>
                              <td align="left" width="300" style="padding: 10px 0 0 0; color: #{{ color-text-paragraph }}; {{ site.data.style.text-p }}">
                                {{ object.paragraph }}
                              </td>
                            </tr>
                            {% if object.cta %}
                            <tr>
                              <td align="left" width="300" style="padding: 15px 0 0 0;">
                                <a
                                  href="{% if object.link %}{{ object.link }}{% else %}{{ page.campaign-link }}{% endif %}"
                                  style="{{ site.data.style.button-small }}">
                                  {% if object.cta-label %}{{ object.cta-label }}{% else %}{{ page.main-cta-label }}{% endif %}
                                </a>
                              </td>
                            </tr>
                            {% endif %}
                          </table>
                        </td>
                      </tr>
                    </table>
                  </td>
                </tr>
              </table>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>

  {% endfor %}
{% endfor %}